/* DO NOT EDIT: File is auto-generated */
package <%= object_type.data_module.java.package %>.dao;

public final class SchemaEntityManager
{
   private static final ThreadLocal<javax.persistence.EntityManager> c_entityManagerThreadLocal =
      new ThreadLocal<javax.persistence.EntityManager>();

   public static void bind( final javax.persistence.EntityManager entityManager )
   {
      if ( null != c_entityManagerThreadLocal.get() )
      {
         throw new IllegalStateException( "SchemaEntityManager.bind invoked without unbinding previous entity manager" );
      }
      c_entityManagerThreadLocal.set( entityManager );
   }

   public static void unbind( final javax.persistence.EntityManager entityManager )
   {
      if ( null == c_entityManagerThreadLocal.get() )
      {
         throw new IllegalStateException( "SchemaEntityManager.unbind invoked with no previous entity manager" );
      }
      if ( entityManager != c_entityManagerThreadLocal.get() )
      {
         throw new IllegalStateException( "SchemaEntityManager.unbind invoked with entity manager that differs from bound entity manager" );
      }
      c_entityManagerThreadLocal.set( null );
   }

   static javax.persistence.EntityManager get()
   {
      final javax.persistence.EntityManager entityManager = c_entityManagerThreadLocal.get();
      if ( null == entityManager )
      {
         throw new IllegalStateException( "SchemaEntityManager.get invoked when no entity manager bound" );
      }
      return entityManager;
   }
}
