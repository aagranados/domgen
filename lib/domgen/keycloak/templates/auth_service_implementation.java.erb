/* DO NOT EDIT: File is auto-generated */
package <%= to_package(repository.keycloak.qualified_auth_service_implementation_name) %>;

@javax.annotation.Generated( "Domgen" )
@java.lang.SuppressWarnings( { "UnusedDeclaration", "JavaDoc" } )
@javax.enterprise.context.ApplicationScoped
@javax.enterprise.inject.Typed( <%= repository.service_by_name(repository.keycloak.auth_service_name).ejb.qualified_service_name %>.class )
public class <%= repository.keycloak.auth_service_implementation_name %>
  implements <%= repository.service_by_name(repository.keycloak.auth_service_name).ejb.qualified_service_name %>
{
  @javax.inject.Inject
  private org.realityforge.keycloak.sks.SimpleAuthService _authService;

  @javax.annotation.Nonnull
  protected org.keycloak.adapters.OidcKeycloakAccount getAccount()
  {
    return _authService.getAccount();
  }
<% repository.keycloak.default_client.claims.each do |claim| -%>

  @javax.annotation.Nonnull
  @java.lang.Override
  public <%= claim.java_type %> get<%= claim.java_accessor_key %>()
  {
<% if ['FamilyName', 'GivenName', 'PreferredUsername'].include?(claim.token_accessor_key) -%>
    final String value = getAccount().getKeycloakSecurityContext().getToken().get<%= claim.token_accessor_key %>();
<% else -%>
    final <%= claim.java_type %> value = (<%= claim.java_type %>)getAccount().getKeycloakSecurityContext().getToken().getOtherClaims().get( "<%= Reality::Naming.camelize(claim.token_accessor_key) %>" );
<% end -%>
    assert null != value;
    return value;
  }
<% end -%>
}
