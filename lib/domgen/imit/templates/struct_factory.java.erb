/* DO NOT EDIT: File is auto-generated */
package <%= struct.data_module.imit.data_type_package %>;

@javax.annotation.Generated( "Domgen" )
@SuppressWarnings( { "UnusedDeclaration", "JavaDoc" } )
public class <%= struct.imit.factory_name %>
{
  public static <%= struct.imit.name %> create( <%= struct.fields.collect {|field| "final #{annotated_type(field, :imit) } #{field.name}" }.join(", ") %> )
  {
    <% params = struct.fields.collect { |field| field.name }.join(", ") %>
    if( com.google.gwt.core.client.GWT.isClient() )
    {
      return <%= struct.imit.jso_name %>.create( <%= params %> );
    }
    else
    {
      return new <%= struct.imit.java_name %>( <%= params %> );
    }
  }

<% if struct.top_level? %>
  public static <%= struct.imit.qualified_name %> as<%= struct.imit.name %>( final String json )
  {
    if( com.google.gwt.core.client.GWT.isClient() )
    {
      return <%= struct.imit.jso_name %>.as<%= struct.imit.name %>( json );
    }
    else
    {
      throw new UnsupportedOperationException();
    }
  }

  public static String asJson( final <%= struct.imit.qualified_name %> entity )
  {
    if( com.google.gwt.core.client.GWT.isClient() )
    {
      return ((<%= struct.imit.jso_name %>) entity).toSource();
    }
    else
    {
      throw new UnsupportedOperationException();
    }
  }
<% end
%>

}
