/* DO NOT EDIT: File is auto-generated */
package <%= struct.data_module.imit.data_type_package %>;

<%= description_javadoc_for(struct, "") %>@javax.annotation.Generated( "Domgen" )
@SuppressWarnings( { "UnusedDeclaration", "JavaDoc" } )
final class <%= struct.imit.jso_name %>
  extends com.google.gwt.core.client.JavaScriptObject
  implements <%= struct.imit.qualified_name %>
{
  protected <%= struct.imit.jso_name %>()
  {
  }

  protected static <%= struct.imit.jso_name %> create( <%= struct.fields.collect {|field| "final #{annotated_type(field, :imit) } #{field.name}" }.join(", ") %> )
  {
    final <%= struct.imit.jso_name %> entity = com.google.gwt.core.client.JavaScriptObject.createObject().cast();
<% struct.fields.each do |field|
     if :sequence == field.collection_type
%>    entity.set<%= field.name %>( java.util.Collections.unmodifiableList( new java.util.ArrayList<<%= field.imit.java_component_type %>>( <%= field.name %> ) ) );
<%     elsif :set == field.collection_type
%>    entity.set<%= field.name %>( java.util.Collections.unmodifiableSet( new java.util.HashSet<<%= field.imit.java_component_type %>>( <%= field.name %> ) ) );
  <%     else
%>    entity.set<%= field.name %>( <%= field.name %> );
<%   end
   end
%>    return entity;
  }

<% struct.fields.select{|field| field.imit?}.each do |field|
%>
  public final native <%= annotated_type(field, :imit) %> <%= getter_prefix(field) %><%= field.name %>() /*-{
    return this.<%= field.json.name %>;
  }-*/;

  private final native void set<%= field.name %>( <%= annotated_type(field, :imit) %> value ) /*-{
    this.<%= field.json.name %> = value;
  }-*/;
<% end
%>
<% if struct.top_level? %>
  public static <%= struct.imit.qualified_name %> as<%= struct.imit.name %>( final String json )
  {
    return as<%= struct.imit.name %>0( json );
  }

  private static <%= struct.imit.jso_name %> as<%= struct.imit.name %>0( final String json )
  {
    return com.google.gwt.core.client.JsonUtils.safeEval( json );
  }
<% end
%>
}
